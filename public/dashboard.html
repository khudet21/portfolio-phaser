<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - SamDev</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />

  <!-- tinyMCE -->
  <!-- <script
      src="https://cdn.tiny.cloud/1/ydly6rbhyulpklyti5xsu56zf3ay54y6w0t2ctf99refrebm/tinymce/6/tinymce.min.js"
      referrerpolicy="origin"
    ></script> -->

  <link rel="stylesheet" href="Css/dashboard.css" />
  <!-- Highlight.js CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />

  <!-- CodeMirror Core -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>

  <!-- JavaScript Mode -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>

  <!-- Dracula Theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css" />

  <!-- Code Folding -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/foldgutter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/brace-fold.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/fold/comment-fold.min.js"></script>
</head>

<body>
  <div class="sidebar">
    <h2>üïπÔ∏è Sam Dev</h2>
    <div class="menu" id="main-menu">
      <a class="active" onclick="showSection('users')">üë§ Users</a>
      <a onclick="showSection('projects')">üéÆ Projects</a>
      <a onclick="openAssetsMenu()">üì¶ Assets</a>
    </div>
    <!-- Submenu Assets -->
    <div class="menu hidden" id="assets-submenu">
      <a onclick="showSection('images')">üñºÔ∏è Image</a>
      <a onclick="showSection('spritesheet')">üß© SpriteSheet</a>
      <a onclick="showSection('audio')">üîä Audio</a>
      <a onclick="showSection('particle')">‚ú® Particle</a>
      <a onclick="showSection('spine')">ü¶¥ Spine</a>
      <a onclick="backToMainMenu()">üîô Kembali</a>
    </div>
  </div>

  <div class="main-content">
    <div class="section" id="users">
      <header>
        <h1>üìä USERS</h1>
        <button class="refresh-btn" onclick="openUserForm()">
          ‚ûï Add User
        </button>
      </header>
      <table>
        <thead>
          <tr>
            <!-- <th>ID</th> -->
            <th>Name</th>
            <th>Email</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="userTableBody"></tbody>
      </table>
    </div>

    <div class="section" id="projects">
      <header>
        <h1>üéÆ PROJECTS</h1>
        <button class="refresh-btn" onclick="openProjectModal()">
          ‚ûï Add Project
        </button>
      </header>
      <table>
        <thead>
          <tr>
            <!-- <th>ID</th> -->
            <th>Title</th>
            <th>Genre</th>
            <th>Slug</th>
            <th>Description</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="projectTableBody"></tbody>
      </table>
    </div>

    <div class="section" id="images">
      <header>
        <h1>üñºÔ∏è Images</h1>
        <button class="refresh-btn" onclick="openAssetModal()">
          ‚ûï Add Image
        </button>
      </header>

      <table border="1" id="imageTable">
        <thead>
          <tr>
            <th>Nama File</th>
            <th>Preview</th>
            <th>Slug</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section" id="spritesheet">
      <header>
        <h1>üß© Spritesheet</h1>
        <button class="refresh-btn" onclick="openSprModal()">
          ‚ûï Add Spritesheet
        </button>
      </header>
      <table border="1" id="spritesheetTable">
        <thead>
          <tr>
            <th>Nama File</th>
            <th>Preview</th>
            <th>Slug</th>
            <th>Ukuran</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section" id="audio">
      <header>
        <h1>üîä Audio</h1>
        <button class="refresh-btn" onclick="openAudioModal()">
          ‚ûï Add Audio
        </button>
      </header>
      <table border="1" id="audioTable">
        <thead>
          <tr>
            <th>Nama File</th>
            <th>Preview</th>
            <th>Slug</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section" id="particle">
      <header>
        <h1>‚ú®Particle</h1>
        <button class="refresh-btn" onclick="openJsonModal()">
          ‚ûï Add Particle
        </button>
      </header>
      <table border="1" id="jsonTable">
        <thead>
          <tr>
            <th>Nama File</th>
            <th>Preview</th>
            <th>Slug</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section" id="spine">
      <header>
        <h1>ü¶¥ Spine</h1>
        <button class="refresh-btn" onclick="openAssetModal()">
          ‚ûï Add Spine
        </button>
      </header>
      <p>Coming soon...</p>
    </div>

    <div id="user-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeUserForm()">&times;</span>
        <h2>User</h2>
        <form id="add-user-form">
          <input type="hidden" id="user-id" />
          <input type="text" id="name" placeholder="Nama User" required />
          <input type="email" id="email" placeholder="Email User" required />
          <button type="submit">Tambah</button>
        </form>
        <div id="add-user-status" style="display: none"></div>
      </div>
    </div>

    <div id="projectModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeProjectModal()">&times;</span>
        <h2>Project</h2>
        <form enctype="multipart/form-data" id="projectForm">
          <input name="title" placeholder="Judul" required />
          <input name="subtitle" placeholder="Subjudul" />
          <input type="file" name="image" accept="image/*" id="image" />
          <input name="description" placeholder="Deskripsi" />
          <input name="features" placeholder="Fitur (pisah koma)" />
          <input name="technologies" placeholder="Teknologi (pisah koma)" />
          <input class="date" name="release_date" type="date" />
          <input name="development_time" placeholder="Waktu Pengembangan" />
          <input name="team" placeholder="Tim" />
          <input name="genre" placeholder="Genre" />
          <input name="platforms" placeholder="Platform" />
          <input name="source_code" placeholder="URL Source Code" />
          <input name="trailer_url" placeholder="URL Trailer" />
          <input name="slug" placeholder="Slug unik" />
          <div class="editor-container">
            <button type="button" class="fullscreen-toggle" onclick="toggleFullScreenEditor()">
              ‚õ∂
            </button>
            <textarea id="editor" name="logic_js" placeholder="Logic JS (opsional)"></textarea>
          </div>
          <div>
            <button type="submit">Simpan</button>
          </div>
        </form>
      </div>
    </div>

    <div id="assetModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAssetModal()">&times;</span>
        <h2>Asset</h2>
        <form action="/gambar" method="POST" enctype="multipart/form-data" id="assetForm">
          <select name="slug" id="slugSelectImage"></select>
          <input type="file" name="image" required />
          <button type="submit">Upload</button>
        </form>
      </div>
    </div>

    <div id="sprModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeSprModal()">&times;</span>
        <h2>Asset</h2>
        <form action="/spr" method="POST" enctype="multipart/form-data" id="sprForm">
          <select name="slug" id="slugSelectSprite"></select>
          <input type="file" name="image" required />
          <input name="width" placeholder="Width" />
          <input name="height" placeholder="Height" />
          <button type="submit">Upload</button>
        </form>
      </div>
    </div>

    <div id="audioModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAudioModal()">&times;</span>
        <h2>Asset</h2>
        <form action="/audio" method="POST" enctype="multipart/form-data" id="audioForm">
          <select name="slug" id="slugSelectSprite"></select>
          <input type="file" name="audio" accept="audio/*" required />
          <button type="submit">Upload </button>
        </form>
      </div>
    </div>

    <div id="jsonModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeJsonModal()">&times;</span>
        <h2>Asset</h2>
        <form action="/json" method="POST" enctype="multipart/form-data" id="jsonForm">
          <select name="slug" id="slugSelectSprite"></select>
          <input type="file" name="file" accept=".json" required />
          <button type="submit">Upload </button>
        </form>
      </div>
    </div>

    <pre><code id="logic-display" class="language-javascript"></code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <script src="JS/dashboard.js"></script>
</body>

</html>